ai_analysis:
  max_trades_in_prompt: 50
api:
  host: 127.0.0.1
  port: 5000
backtest_settings:
  commission_per_lot: 7
  simulated_spread_pips: 1.5
execution:
  retryable_retcodes: [10004, 10006, 10018, 10021, 10017]
  max_retries: 3
  retry_delay_seconds: 1.0
learning:
  enabled: false
  min_trades_for_analysis: 10
mt5_credentials:
  login: 10008432
  password: jsne80aX!
  server: Axi-US50-Demo
professional_journal:
  enabled: true
  file_path_template: Journal_Trading_{month_name}_{year}.csv
risk_management:
  atr_settings:
    BTCUSD: {sl_multiple: 1.2, tp_multiple: 2.5}
    ETHUSD: {sl_multiple: 1.2, tp_multiple: 2.5}
    XAUUSD: {sl_multiple: 1.8, tp_multiple: 3.5}
    default: {period: 14, sl_multiple: 1.5, tp_multiple: 3}
  breakeven:
    enabled: true
    pips_plus: 10
    trigger_pips: 100
  daily_loss_limit_percent: 5.0
  max_concurrent_trades: 5
  partial_tp:
    be_pips_plus_after_tp1: 5
    enabled: true
    levels:
    - {percentage: 50, rr: 1}
    - {percentage: 30, rr: 2}
    move_sl_to_be_after_tp1: true
  risk_per_trade: 1
  sl_buffer_pips: 5
  sl_strategy: SMC_STRUCTURE # Options: ATR_MULTIPLE, SMC_STRUCTURE
  tp_strategy: SMC_LIQUIDITY_TARGET # Options: ATR_MULTIPLE, SMC_LIQUIDITY_TARGET
  
  # --- MODIFICATION SUGGESTION 7 ---
  # Le Trailing Stop ATR est désactivé pour utiliser le Trailing Stop Structure
  trailing_stop_atr:
    activation_multiple: 2
    enabled: false # Désactivé
    trailing_multiple: 1.8
    
  # --- AJOUT SUGGESTION 7 (Trailing Stop Structure) ---
  trailing_stop_structure:
    enabled: true # Activé
    ltf_swing_period: 3 # Période (n) pour _find_swing_points (ex: 3)
  # --- FIN SUGGESTION 7 ---

  initial_capital_for_journal: 10000.0
  
  # --- AJOUT SUGGESTION 3.2 (RR Minimum) ---
  min_rr: 2.0 # Refuser les trades si le RR < 2.0

sound_alerts:
  enabled: true
  sound_file: ./alert.wav
trading_settings:
  crypto_symbols:
  - BTCUSD
  - ETHUSD
  live_trading_enabled: True
  magic_number: 13580
  
  # --- (Sugg 5.1) Suppression de la liste 'symbols' globale ---
  # 'symbols' est maintenant géré par les killzones

  timeframe: M15 # Timeframe d'exécution (LTF)

  # --- (Sugg 5.1 / 5.2) Remplacement de 'trading_sessions' par 'killzones' ---
  killzones:
    # Définir les sessions de trading et les symboles associés
    # Format: NomSession: [HeureDébutUTC, HeureFinUTC, [Symbole1, Symbole2, ...]]
    ASIA: ["00:00", "07:00", ["AUDUSD", "NZDUSD"]]
    LONDON: ["07:00", "10:00", ["EURUSD", "GBPUSD", "XAUUSD"]]
    NEW_YORK: ["12:00", "16:00", ["EURUSD", "GBPUSD", "XAUUSD", "USDCAD", "USOIL"]]
    # CRYPTO gère les symboles 24/7
    CRYPTO: ["00:00", "23:59", ["BTCUSD", "ETHUSD"]]
  # --- Fin (Sugg 5.1 / 5.2) ---

trend_filter:
  enabled: true
  higher_timeframe: H4 # Timeframe d'analyse (HTF)
  
  # --- (Sugg 1.1) Filtre de confluence EMA ---
  ema_fast_period: 50 # EMA rapide
  ema_slow_period: 200 # EMA lente (Anciennement ema_period)
  
  ema_dead_zone_atr_multiple: 0.5
  
pattern_detection:
  # --- (Sugg 4.2) Terminologie mise à jour ---
  BREAK_OF_STRUCTURE: true # (Anciennement CHANGE_OF_CHARACTER)
  CHANGE_OF_CHARACTER: true # Pour les confirmations LTF
  
  INBALANCE: true
  LIQUIDITY_GRAB: true
  ORDER_BLOCK: true
  
  # --- AJOUT SUGGESTION 5 (Validation OB) ---
  ob_validation:
    require_fvg_after: true # Exiger une imbalance (FVG) après l'OB
  # --- FIN SUGGESTION 5 ---
  
  # --- (Sugg 2.1) Désactivation AMD (Bottom-Up) pour logique Top-Down ---
  SMC_AMD_SESSION: false