# Fichier: config.yaml
# Version: 2.0
#
# Fichier de configuration principal pour Kasperbot.
# Modifiez ces valeurs pour ajuster la connexion, 
# la stratégie et la gestion des risques.
# ----------------------------------------------------

mt5:
    login: 10008432
    password: "jsne80aX!"
    server: "Axi-US50-Demo"
    
    # Liste des symboles à surveiller par le bot
    symbols: 
      - "XAUUSD"
      - "XAGUSD"
      - "EURUSD"
      - "GBPUSD"
      - "NZDUSD"
      - "AUDUSD"
      - "USDCAD"
      - "USOIL" 
      - "BTCUSD"
      - "ETHUSD"

    # Volume par défaut (utilisé en fallback si le risk_manager échoue)
    trade_volume: 0.01

strategy:
    # Nom de la stratégie (informatif)
    name: "SMC_OTE"
    
    # Configuration pour l'analyse multi-timeframe
    # Le bot récupère ce nombre de bougies pour chaque timeframe
    timeframes_config:
        "H4": 200  # Tendance de fond (HTF)
        "M15": 300 # Structure de retracement (LTF)
    
    # Timeframes utilisées pour l'analyse SMC
    htf_timeframe: "H4"  # Timeframe pour la tendance (Bias)
    ltf_timeframe: "M15" # Timeframe pour les entrées (POI, OTE)
    
    # Paramètres pour la détection de structure (find_swing_highs_lows)
    htf_swing_order: 10 # Nbr de bougies de chaque côté pour un swing HTF
    ltf_swing_order: 5  # Nbr de bougies de chaque côté pour un swing LTF

risk:
    # Risque en pourcentage du capital par trade
    risk_percent: 1.0
    
    # Définition de la taille d'un pip pour chaque symbole
    # (Crucial pour le calcul de la taille de lot)
    default_pip_size: 0.0001 # Pour les paires FX par défaut
    pip_sizes:
        "XAUUSD": 0.01
        "XAGUSD": 0.01
        "EURUSD": 0.0001
        "GBPUSD": 0.0001
        "NZDUSD": 0.0001
        "AUDUSD": 0.0001
        "USDCAD": 0.0001
        "USOIL": 0.01
        "BTCUSD": 0.01
        "ETHUSD": 0.01

logging:
    # Niveau de détail des logs: DEBUG, INFO, WARNING, ERROR
    level: "INFO" 

api:
    # Activer/Désactiver le dashboard web
    enabled: true
    port: 5000

journal:
    # Fichier CSV où les trades seront enregistrés
    filepath: "logs/kasperbot_journal.csv"

# Intervalle en secondes entre chaque cycle d'analyse
check_interval: 60