# Fichier: config.yaml
# Version 10.1 : Ratio Risque/Rendement flexible

api:
  host: 127.0.0.1
  port: 5000

timing:
  sync_mode: new_candle
  sleep_interval_seconds: 20

logging:
  verbose_log: true

mt5_credentials:
  login: 10004952
  password: jsne80aX!
  server: Axi-US50-Demo

trading_settings:
  magic_number: 13579
  symbols:
  - XAUUSD
  - EURUSD
  - GBPUSD
  - BTCUSD
  - ETHUSD
  timeframe: M15

pattern_detection:
  INBALANCE: true
  ORDER_BLOCK: true
  SMC_AMD_SESSION: true

trend_filter:
  enabled: true
  higher_timeframe: H4
  ema_period: 200

risk_management:
  # Règle de priorité : Le risque par trade est TOUJOURS respecté.
  # Le ratio R/R est un FILTRE SECONDAIRE.
  # Mettez 0.0 pour désactiver le filtre de ratio et accepter tous les trades
  # qui respectent le risque de 1%.
  min_risk_reward_ratio: 1.5 # Exemple : Accepte les trades avec un R/R de 1.5 ou plus.
  
  risk_per_trade: 0.01 # Règle absolue : Ne jamais risquer plus de 1% du capital.
  sl_tp_strategy: ATR_MULTIPLE
  
  atr_settings:
    default:
      period: 14
      sl_multiple: 1.5
      tp_multiple: 3.0
    XAUUSD:
      sl_multiple: 1.8
      tp_multiple: 3.5
    BTCUSD:
      sl_multiple: 2.5
      tp_multiple: 4.0

  breakeven:
    enabled: true
    trigger_pips: 100
    pips_plus: 10
    
  trailing_stop_atr:
    enabled: true
    activation_multiple: 2.0
    trailing_multiple: 1.8

learning:
  enabled: false
  analysis_period_hours: 1
  min_trades_for_analysis: 10